#N canvas 304 140 868 521 10;
#X declare -stdpath extra/ggee;
#X declare -stdpath extra/ggee;
#N canvas 62 184 582 570 REFERENCE 0;
#X text 24 31 Name: s_minimoog;
#X text 24 121 Inlet 0: midi note & velocity pairs;
#X text 24 141 Inlet 1: external audio in to mixer & modifiers;
#X text 23 294 Outlet 0: audio out;
#X text 23 315 Outlet 1: sends internal settings when receieving "save"
message to third inlet.;
#X text 24 91 Argument 0: <float or symbol> unique id (don't use \$0)
;
#X text 24 165 Inlet 2: control inlet to set parameters. See example
for details. Messages are: tune \, glideon \, glide \, keytrack \,
decayon \, modon \, mod \, modmix \, oscmod \, filtermod \, osc1range
\, osc1wave \, osc2range \, osc2wave \, osc2detune \, osc3control \,
osc3range \, osc3detune \, osc3wave \, osc1on \, osc1vol \, osc2on
\, osc2vol \, osc3on \, osc3vol \, externalon \, externalvol \, noiseon
\, noisevol \, noisetype \, filtercutoff \, filtereemph \, filteramt
\, filterA \, filterD \, filterS \, contourA \, contourD \, contourS
\, vol \, A440on;
#X text 22 434 Tags: synth \, minimoog \, moog \, analog \, audio;
#X text 24 51 Summary: A minimoog-inspired 3 oscillator synth modeled
after what I could find about the minimoog model D.;
#X text 22 354 Description: This is not an entirely accurate modeling
of a minimoog \, but it's lots of fun. Control names and value ranges
are based on the actual minimoog front panel knobs.;
#X text 22 407 See also: [s_ejun] [s_303] [s_fmbass] [s_fm4] [s_rhodey]
;
#X coords 0 -1 1 1 450 450 1 10 10;
#X restore 5 48 pd REFERENCE;
#X obj 5 18 cnv 15 450 20 empty empty empty 20 12 0 14 -261234 -66577
0;
#X text 471 32 Example:;
#X obj 531 206 soundinput;
#X obj 482 435 soundoutput;
#X obj 482 82 notein 1;
#X obj 482 114 pack f 0;
#X obj 497 147 tgl 15 0 empty empty play_seq 17 7 0 10 -262144 -1 -1
0 1;
#X msg 671 299 panic;
#X msg 671 263 reset;
#X obj 581 262 r \$0-control;
#X text 716 263 reset to defaults;
#N canvas 0 22 663 427 sequences 0;
#X obj 71 190 sel 0 1 2 3 4 5 6 7;
#X obj 156 226 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 189 227 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 222 227 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 253 227 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 288 228 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 47 224 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 82 225 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 120 225 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 156 362 outlet;
#X obj 71 20 inlet;
#X obj 22 49 sel 0;
#X msg 22 72 reset;
#X msg 156 248 38;
#X msg 222 249 50;
#X msg 253 249 34;
#X msg 47 246 38;
#X msg 120 248 40;
#X msg 189 249 45;
#X msg 82 247 45;
#X msg 288 250 rest;
#X obj 156 304 makenote 64 100;
#X obj 156 333 pack f f;
#X floatatom 122 47 5 0 0 0 - - -, f 5;
#X obj 71 99 u_count 8;
#X obj 71 73 metro 100;
#X obj 373 195 sel 0 1 2 3 4 5 6 7;
#X obj 455 231 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 491 232 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 524 232 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 555 232 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 590 233 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 349 229 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 384 230 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 230 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 590 255 rest;
#X obj 458 309 makenote 64 100;
#X obj 458 338 pack f f;
#X msg 349 251 60;
#X msg 384 252 62;
#X msg 422 253 64;
#X obj 71 157 u_demux2;
#X obj 116 129 inlet;
#X msg 555 254 59;
#X msg 524 254 57;
#X msg 491 254 55;
#X msg 455 253 rest;
#X connect 0 0 6 0;
#X connect 0 1 7 0;
#X connect 0 2 8 0;
#X connect 0 3 1 0;
#X connect 0 4 2 0;
#X connect 0 5 3 0;
#X connect 0 6 4 0;
#X connect 0 7 5 0;
#X connect 1 0 13 0;
#X connect 2 0 18 0;
#X connect 3 0 14 0;
#X connect 4 0 15 0;
#X connect 5 0 20 0;
#X connect 6 0 16 0;
#X connect 7 0 19 0;
#X connect 8 0 17 0;
#X connect 10 0 11 0;
#X connect 10 0 25 0;
#X connect 11 0 12 0;
#X connect 12 0 24 0;
#X connect 13 0 21 0;
#X connect 14 0 21 0;
#X connect 15 0 21 0;
#X connect 16 0 21 0;
#X connect 17 0 21 0;
#X connect 18 0 21 0;
#X connect 19 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 9 0;
#X connect 23 0 25 1;
#X connect 24 0 41 0;
#X connect 25 0 24 0;
#X connect 26 0 32 0;
#X connect 26 1 33 0;
#X connect 26 2 34 0;
#X connect 26 3 27 0;
#X connect 26 4 28 0;
#X connect 26 5 29 0;
#X connect 26 6 30 0;
#X connect 26 7 31 0;
#X connect 27 0 46 0;
#X connect 28 0 45 0;
#X connect 29 0 44 0;
#X connect 30 0 43 0;
#X connect 31 0 35 0;
#X connect 32 0 38 0;
#X connect 33 0 39 0;
#X connect 34 0 40 0;
#X connect 36 0 37 0;
#X connect 36 1 37 1;
#X connect 37 0 9 0;
#X connect 38 0 36 0;
#X connect 39 0 36 0;
#X connect 40 0 36 0;
#X connect 41 0 0 0;
#X connect 41 1 26 0;
#X connect 42 0 41 1;
#X connect 43 0 36 0;
#X connect 44 0 36 0;
#X connect 45 0 36 0;
#X restore 497 174 pd sequences;
#X obj 566 148 hradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 643 345 g_scope;
#X text 667 69 Controls;
#N canvas 215 41 909 658 Oscillator 0;
#X obj 67 154 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 2;
#X obj 32 62 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 2;
#X floatatom 32 83 5 0 0 0 - - -, f 5;
#X floatatom 67 176 5 0 0 0 - - -, f 5;
#X text 182 129 0 - triangle;
#X text 182 148 1 - triangle/sawtooth mix;
#X text 182 167 2 - sawtooth;
#X text 182 186 3 - 1:2 square;
#X text 183 203 4 - 1:3 square;
#X text 183 221 5 - 1:4 square;
#X text 76 83 2 by default;
#X text 84 225 0 by default;
#X obj 631 133 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 1;
#X obj 449 53 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 2;
#X floatatom 449 74 5 0 0 0 - - -, f 5;
#X floatatom 631 155 5 0 0 0 - - -, f 5;
#X text 742 115 0 - triangle;
#X text 742 134 1 - triangle/sawtooth mix;
#X text 742 153 2 - sawtooth;
#X text 742 171 3 - 1:2 square;
#X text 742 188 4 - 1:3 square;
#X text 742 206 5 - 1:4 square;
#X text 488 73 2 by default;
#X text 630 206 0 by default;
#X obj 454 514 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 1;
#X obj 35 366 hradio 15 1 0 6 empty empty 0-5_int 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 35 387 5 0 0 0 - - -, f 5;
#X floatatom 454 536 5 0 0 0 - - -, f 5;
#X obj 253 483 hsl 128 15 0 127 0 0 empty empty empty 32 8 0 10 -262144
-1 -1 323 1;
#X floatatom 250 508 5 0 0 0 - - -, f 5;
#X msg 250 452 0;
#X text 396 358 if control is 0 \, osc 3's frequency is set by the
detune which is 0-127;
#X text 318 321 turn control off to set osc3 freq manually \, useful
when using it for modulation;
#X text 595 496 0 - triangle;
#X text 595 533 2 - sawtooth;
#X text 595 551 3 - 1:2 square;
#X text 595 568 4 - 1:3 square;
#X text 595 586 5 - 1:4 square;
#X text 595 514 1 - rev sawtooth;
#X msg 303 451 range -7 7;
#X msg 384 452 range 0 127;
#X obj 303 420 sel 1;
#X text 73 385 2 by default;
#X text 294 507 0 by default;
#X text 498 536 0 by default;
#X msg 67 198 osc1wave \$1;
#X msg 32 105 osc1range \$1;
#X obj 32 264 s \$0-control;
#X obj 449 258 s \$0-control;
#X text 181 49 oscillator 1: sound source;
#X text 606 43 oscillator 2: sound source with detune;
#X text 32 322 oscillator 3: sound and modulation source;
#X obj 449 172 g_hsl osc2detune -7 7;
#X msg 449 96 osc2range \$1;
#X text 448 154 -7 --------|------- 7;
#X msg 631 177 osc2wave \$1;
#X obj 35 628 s \$0-control;
#X obj 303 358 g_tgl osc3ctl;
#X obj 303 395 route osc3ctl;
#X msg 454 558 osc3wave \$1;
#X msg 250 531 osc3detune \$1;
#X msg 35 408 osc3range \$1;
#X text 396 405 if control is 1 \, osc3's frequency is set by the incoming
note and the detune is -7 to 7 (default);
#X msg 522 127 osc2detune 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 46 0;
#X connect 3 0 45 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 14 0 53 0;
#X connect 15 0 55 0;
#X connect 24 0 27 0;
#X connect 25 0 26 0;
#X connect 26 0 61 0;
#X connect 27 0 59 0;
#X connect 28 0 29 0;
#X connect 29 0 60 0;
#X connect 30 0 28 0;
#X connect 39 0 28 0;
#X connect 40 0 28 0;
#X connect 41 0 39 0;
#X connect 41 1 40 0;
#X connect 45 0 47 0;
#X connect 46 0 47 0;
#X connect 52 0 48 0;
#X connect 53 0 52 0;
#X connect 55 0 48 0;
#X connect 57 0 56 0;
#X connect 57 0 58 0;
#X connect 58 0 41 0;
#X connect 59 0 56 0;
#X connect 60 0 56 0;
#X connect 61 0 56 0;
#X connect 63 0 52 0;
#X coords 0 0 1 1 120 90 0;
#X restore 670 128 pd Oscillator Bank;
#N canvas 312 63 539 546 Mixer 0;
#X text 111 27 Osc1;
#X text 111 105 Osc2;
#X obj 186 422 hradio 15 1 0 2 empty empty 0-2_int 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 186 443 5 0 0 0 - - -, f 5;
#X text 261 428 0 - white noise;
#X text 261 444 1 - pink noise;
#X text 117 330 the noise sources can be used for both sound and modulation
;
#X text 183 363 on and vol controls apply only to the mixer \, not
to modulation;
#X text 197 495 pink noise is used for modulation;
#X text 253 408 type sets the sound noise source;
#X obj 26 24 g_tgl osc1on;
#X obj 26 57 g_hsl osc1vol 0 10;
#X obj 26 99 g_tgl osc2on;
#X obj 26 131 g_hsl osc2vol 0 10;
#X obj 26 172 g_tgl osc3on;
#X obj 26 205 g_hsl osc3vol 0 10;
#X obj 26 506 s \$0-control;
#X obj 26 283 g_hsl externalvol 0 10;
#X obj 26 325 g_tgl noiseon;
#X obj 26 365 g_hsl noisevol 0 10;
#X obj 26 245 g_tgl externalon;
#X msg 186 465 noisetype \$1;
#X text 111 249 external signal source goes through Filter and Contour
;
#X text 110 170 osc3 on and vol controls apply only to the mixer \,
not to modulation;
#X connect 2 0 3 0;
#X connect 3 0 21 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 16 0;
#X connect 20 0 17 0;
#X connect 21 0 16 0;
#X restore 670 157 pd Mixer;
#N canvas 409 132 805 449 Controllers 0;
#X text 358 134 osc3 ------|----- noise;
#X text 98 26 glide (aka portamento);
#X text 166 157 overall tuning;
#X text 439 22 modulation control;
#X text 510 154 modulation source mixing betwen osc3 and noise;
#X text 445 191 send modulation to the osc1 and osc2?;
#X text 446 228 send modulation to the filter vca?;
#X obj 18 24 g_tgl glideon;
#X obj 18 62 g_hsl glide 0 10;
#X obj 18 153 g_hsl tune -2.5 2.5;
#X obj 18 225 g_tgl decayon;
#X text 97 228 enable/disable the ADSD release;
#X obj 360 19 g_tgl modon;
#X obj 360 151 g_hsl modmix 0 10;
#X obj 360 189 g_tgl oscmod;
#X obj 360 223 g_tgl filtermod;
#X obj 18 416 s \$0-control;
#X obj 360 268 s \$0-control;
#X obj 360 61 g_nhsl mod 0 127;
#X text 17 134 -2.5 ------|----- 2.5;
#X obj 18 294 g_tgl keytrack;
#X text 98 298 enable/disable minimoog key tracking;
#X text 97 330 The ADSRs are only triggered when a note is played on
the keyboard while no other notes are down. If a note is down \, hitting
another note may change the pitch (only if the second note is lower
than the first) \, but will not retrigger the ADSRs.;
#X text 509 64 modulation amount (thumbwheel on minimoog);
#X text 164 66 max: 5 seconds;
#X msg 86 105 tune 0;
#X msg 427 107 modmix 5;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 20 0;
#X connect 12 0 18 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 18 0 13 0;
#X connect 20 0 16 0;
#X connect 25 0 9 0;
#X connect 26 0 13 0;
#X restore 670 98 pd Controllers;
#N canvas 484 275 753 450 Modifiers 0;
#X text 43 90 cutoff frequency;
#X obj 190 247 hsl 128 15 200 20000 1 0 empty empty 0-20k_log 32 8
0 10 -262144 -1 -1 2400 1;
#X floatatom 187 296 5 0 0 1 0-10k_ms - -, f 5;
#X obj 190 138 hsl 128 15 200 20000 1 0 empty empty 0-20k_log 32 8
0 10 -262144 -1 -1 200 1;
#X floatatom 187 187 5 0 0 1 0-10k_ms - -, f 5;
#X obj 543 171 hsl 128 15 200 20000 1 0 empty empty 0-20k_log 32 8
0 10 -262144 -1 -1 8000 1;
#X floatatom 540 220 5 0 0 1 0-10k_ms - -, f 5;
#X text 508 19 an ampltude envelope generator (vca);
#X obj 520 62 hsl 128 15 200 20000 1 0 empty empty 0-20k_log 32 8 0
10 -262144 -1 -1 6500 1;
#X floatatom 517 111 5 0 0 1 0-10k_ms - -, f 5;
#X msg 187 321 filter D \$1;
#X msg 187 212 filterA \$1;
#X text 16 13 a low-pass filter [e_moog];
#X msg 540 245 contourD \$1;
#X msg 517 136 contourA \$1;
#X obj 517 88 - 200;
#X obj 540 197 - 200;
#X obj 187 164 - 200;
#X obj 187 273 - 200;
#X text 337 65 emphasis (resonance);
#X obj 28 409 s \$0-control;
#X obj 188 355 g_hsl filterS 0 10;
#X obj 186 91 g_hsl filteramt 0 10;
#X obj 186 59 g_hsl filteremph 0 10;
#X text 338 96 amount of contour;
#X obj 517 406 s \$0-control;
#X obj 542 293 g_hsl contourS 0 10;
#X obj 28 58 g_hsl filtercutoff -5 5;
#X text 263 212 time in ms;
#X text 265 320 time in ms;
#X text 598 136 time in ms;
#X text 620 245 time in ms;
#X connect 1 0 18 0;
#X connect 2 0 10 0;
#X connect 3 0 17 0;
#X connect 4 0 11 0;
#X connect 5 0 16 0;
#X connect 6 0 13 0;
#X connect 8 0 15 0;
#X connect 9 0 14 0;
#X connect 10 0 20 0;
#X connect 11 0 20 0;
#X connect 13 0 25 0;
#X connect 14 0 25 0;
#X connect 15 0 9 0;
#X connect 16 0 6 0;
#X connect 17 0 4 0;
#X connect 18 0 2 0;
#X connect 21 0 20 0;
#X connect 22 0 20 0;
#X connect 23 0 22 0;
#X connect 26 0 25 0;
#X connect 27 0 20 0;
#X coords 0 0 1 1 140 120 0;
#X restore 670 185 pd Modifiers;
#N canvas 308 200 439 161 Output 0;
#X obj 25 128 s \$0-control;
#X obj 25 87 g_tgl A440on;
#X obj 25 47 g_hsl vol 0 10;
#X text 101 90 A - 440Hz test tone for tuning your analog beast :D
;
#X text 23 11 main output;
#X text 172 51 default: 10;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 670 214 pd Output;
#X text 129 21 - a mnimoog-inspired 3 oscillator synth;
#X msg 10 20 s_minimoog;
#N canvas 23 30 1164 441 detailed 0;
#X obj 21 291 soundoutput;
#X msg 198 240 save;
#X obj 193 298 print;
#X obj 21 245 s_minimoog \$0-TAG;
#X obj 21 132 m_majorscale 50;
#X obj 21 78 metro 500;
#X obj 21 54 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 21 211 pack;
#X obj 27 174 notein;
#X obj 21 154 makenote 127 300;
#X floatatom 112 62 5 0 0 0 - - -, f 5;
#X obj 21 104 random 10;
#X obj 244 35 g_mmcontrol;
#X connect 1 0 3 2;
#X connect 3 0 0 0;
#X connect 3 0 0 1;
#X connect 3 1 2 0;
#X connect 4 0 9 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 8 0 7 0;
#X connect 8 1 7 1;
#X connect 9 0 7 0;
#X connect 9 1 7 1;
#X connect 10 0 11 1;
#X connect 11 0 4 0;
#X restore 668 33 pd detailed example;
#X text 712 299 clear key tracker (if on);
#X text 495 488 rc-patches (https://github.com/danomatika/rc-patches)
- 2014;
#X obj 482 318 s_minimoog \$0-TAG;
#X connect 3 0 26 1;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 26 0;
#X connect 7 0 12 0;
#X connect 8 0 26 2;
#X connect 9 0 26 2;
#X connect 10 0 26 2;
#X connect 12 0 26 0;
#X connect 13 0 12 1;
#X connect 26 0 4 0;
#X connect 26 0 4 1;
#X connect 26 0 14 0;
